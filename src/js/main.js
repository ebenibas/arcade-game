"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var lives=3,levels=1,Enemy=function(){function i(e,n,t){_classCallCheck(this,i),this.sprite="images/enemy-bug.png",this.speed=t,this.x=e,this.y=n}return _createClass(i,[{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}},{key:"update",value:function(e){if(this.x+=this.speed*e,500<=this.x)return this.x=0;player.x+35>this.x&&player.x<this.x+65&&player.y+32>this.y&&player.y<this.y+26&&(gameReset(),lives-=1,document.getElementById("lives").innerHTML=" Game lives :".concat(lives),lives<1&&swal("Game over"))}}]),i}(),gameReset=function(){player.x=200,player.y=430},player=new(Player=function(){function i(e,n,t){_classCallCheck(this,i),this.speed=e,this.x=n,this.y=t,this.sprite="images/char-boy.png"}return _createClass(i,[{key:"update",value:function(){430<this.y&&(this.y=430),410<this.x&&(this.x=410),this.x<0&&(this.x=0),this.y<0&&(gameReset(),levels+=1,allEnemies.speed=Math.floor(60*Math.random()+10)*levels,document.getElementById("levels").innerHTML=" Game levels :".concat(levels))}},{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}},{key:"handleInput",value:function(e){"left"==e&&(this.x-=100),"right"==e&&(this.x+=100),"up"==e&&(this.y-=95),"down"==e&&(this.y+=95)}}]),i}())(15,200,430),allEnemies=[enemy1=new Enemy(35,55,120),enemy2=new Enemy(40,140,180),enemy3=new Enemy(45,230,230),enemy4=new Enemy(50,320,290),enemy5=new Enemy(55,320,270)];document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])});var Engine=function(e){var n,t=e.document,i=e.window,s=t.createElement("canvas"),a=s.getContext("2d");function r(){var e=Date.now();!function(e){!function(n){allEnemies.forEach(function(e){e.update(n)}),player.update()}(e)}((e-n)/1e3),function(){var e,n,t=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"];for(a.clearRect(0,0,s.width,s.height),e=0;e<6;e++)for(n=0;n<5;n++)a.drawImage(Resources.get(t[e]),101*n,83*e);allEnemies.forEach(function(e){e.render()}),player.render()}(),n=e,i.requestAnimationFrame(r)}s.width=505,s.height=606,t.body.appendChild(s),Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png"]),Resources.onReady(function(){n=Date.now(),r()}),e.ctx=a}(void 0);function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var Player,enemy1,enemy2,enemy3,enemy4,enemy5;lives=3,levels=1,Enemy=function(){function i(e,n,t){_classCallCheck(this,i),this.sprite="images/enemy-bug.png",this.speed=t,this.x=e,this.y=n}return _createClass(i,[{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}},{key:"update",value:function(e){if(this.x+=this.speed*e,500<=this.x)return this.x=0;player.x+35>this.x&&player.x<this.x+65&&player.y+32>this.y&&player.y<this.y+26&&(gameReset(),lives-=1,document.getElementById("lives").innerHTML=" Game lives :".concat(lives),lives<1&&swal("Game over"))}}]),i}(),gameReset=function(){player.x=200,player.y=430},player=new(Player=function(){function i(e,n,t){_classCallCheck(this,i),this.speed=e,this.x=n,this.y=t,this.sprite="images/char-boy.png"}return _createClass(i,[{key:"update",value:function(){430<this.y&&(this.y=430),410<this.x&&(this.x=410),this.x<0&&(this.x=0),this.y<0&&(gameReset(),levels+=1,allEnemies.speed=Math.floor(60*Math.random()+10)*levels,document.getElementById("levels").innerHTML=" Game levels :".concat(levels))}},{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}},{key:"handleInput",value:function(e){"left"==e&&(this.x-=100),"right"==e&&(this.x+=100),"up"==e&&(this.y-=95),"down"==e&&(this.y+=95)}}]),i}())(15,200,430),allEnemies=[enemy1=new Enemy(35,55,120),enemy2=new Enemy(40,140,180),enemy3=new Enemy(45,230,230),enemy4=new Enemy(50,320,290),enemy5=new Enemy(55,320,270)];document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])});Engine=function(e){var t,n=e.document,i=e.window,s=n.createElement("canvas"),a=s.getContext("2d");function r(){var n,e=Date.now();n=(e-t)/1e3,allEnemies.forEach(function(e){e.update(n)}),player.update(),function(){var e,n,t=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"];for(a.clearRect(0,0,s.width,s.height),e=0;e<6;e++)for(n=0;n<5;n++)a.drawImage(Resources.get(t[e]),101*n,83*e);allEnemies.forEach(function(e){e.render()}),player.render()}(),t=e,i.requestAnimationFrame(r)}s.width=505,s.height=606,n.body.appendChild(s),Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png"]),Resources.onReady(function(){t=Date.now(),r()}),e.ctx=a}(void 0);!function(){var t={},i=[];function n(e){if(t[e])return t[e];var n=new Image;n.onload=function(){t[e]=n,s()&&i.forEach(function(e){e()})},t[e]=!1,n.src=e}function s(){var e=!0;for(var n in t)t.hasOwnProperty(n)&&!t[n]&&(e=!1);return e}window.Resources={load:function(e){e instanceof Array?e.forEach(function(e){n(e)}):n(e)},get:function(e){return t[e]},onReady:function(e){i.push(e)},isReady:s}}(),function(){var t={},i=[];function n(e){if(t[e])return t[e];var n=new Image;n.onload=function(){t[e]=n,s()&&i.forEach(function(e){e()})},t[e]=!1,n.src=e}function s(){var e=!0;for(var n in t)t.hasOwnProperty(n)&&!t[n]&&(e=!1);return e}window.Resources={load:function(e){e instanceof Array?e.forEach(function(e){n(e)}):n(e)},get:function(e){return t[e]},onReady:function(e){i.push(e)},isReady:s}}();